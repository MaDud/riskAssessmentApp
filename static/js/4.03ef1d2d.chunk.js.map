{"version":3,"sources":["components/RiskAssessment/HazardIdentyfication/RiskMatric/RiskMatric.js","components/RiskAssessment/HazardIdentyfication/RiskMatric/riskMatric.module.css","components/UI/InfoBox/InfoBox.js","components/UI/InfoBox/infoBox.module.css","components/UI/Spinner/Spinner.js","components/UI/Spinner/spinner.module.css","components/RiskAssessmentOutput/RiskAssessmentNav/RiskAssessmentNav.module.css","components/UI/Modal/modal.module.css","containers/RiskAssessmentOutput/riskAssessmentOutput.module.css","components/RiskAssessmentOutput/RiskAssessmentNav/RiskAssessmentNav.js","components/UI/Modal/Modal.js","containers/RiskAssessmentOutput/RiskAssessmentOutput.js"],"names":["riskMatric","props","risk","value","effect","propability","type","className","classes","Level","ExtraSmall","join","Small","Medium","Big","ExtraBig","module","exports","InfoBox","nextProps","nextState","this","show","children","Box","style","opacity","transform","React","Component","spinner","Loader","riskAssessmentNav","Auxiliary","RANav","onClick","history","icon","edit","archive","Modal","Backdrop","clicked","TABLE_HEADS","ARCHIVE_TABLE_HEADS","RiskAssessmentOutput","state","archiveInfo","archiveHistory","archiveToggle","setState","archiveHistoryToggle","editBtn","id","RAtype","push","version","btnOK","raOutput","error","raOutputClean","query","match","params","initRAForm","archiveOutput","tableHeads","map","head","index","key","rows","hazard","hazardList","save","source","possibleEffects","protection","RiskMatric","tableRows","row","item","infoBox","loading","Spinner","message","MssgBox","Button","btnType","ButtonBox","archiveRA","archiveTableHeads","archiveTableData","Object","keys","versionsList","date","notice","Output","isAuth","RiskAssessmentNav","ArchiveHistory","Table","Info","number","data","position","localization","description","connect","riskAssessment","assessmentData","riskAssessmentOutput","firebase","auth","uid","dispatch","cleanState","action"],"mappings":"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","file":"static/js/4.03ef1d2d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport classes from './riskMatric.module.css';\r\n\r\nconst riskMatric = props => {\r\n\r\n    let value = props.effect+'|'+props.propability;\r\n    let type = props.type;\r\n    let risk;    \r\n\r\n    switch (value) {\r\n        case (\"small|small\"):\r\n            if (type === 'td') {\r\n                risk = <td className={[classes.Level,classes.ExtraSmall].join(' ')}>Bardzo małe</td>\r\n            } else {\r\n                risk = <div className={[classes.Level,classes.ExtraSmall].join(' ')}>Bardzo małe</div>};\r\n            break;\r\n        case (\"small|medium\"):\r\n        case (\"medium|small\"):\r\n            if (type === 'td') {\r\n                risk = <td className={[classes.Level,classes.Small].join(' ')}>Małe</td>\r\n            } else {\r\n                risk = <div className={[classes.Level,classes.Small].join(' ')}>Małe</div>;}\r\n            break;\r\n        case (\"small|big\"):\r\n        case (\"medium|medium\"):\r\n        case (\"big|small\"):\r\n            if (type === 'td') {\r\n                risk = <td className={[classes.Level,classes.Medium].join(' ')}>Średnie</td>\r\n            } else {\r\n                risk = <div className={[classes.Level,classes.Medium].join(' ')}>Średnie</div>};\r\n            break;\r\n        case (\"medium|big\"):\r\n        case (\"big|medium\"):\r\n            if (type === 'td') {\r\n                risk = <td className={[classes.Level,classes.Big].join(' ')}>Duże</td>\r\n            } else {\r\n                risk = <div className={[classes.Level,classes.Big].join(' ')}>Duże</div>};\r\n            break;\r\n        case (\"big|big\"):\r\n            if (type === 'td') {\r\n                risk = <td className={[classes.Level,classes.ExtraBig].join(' ')}>Bardzo duże</td>\r\n            } else {\r\n                risk = <div className={[classes.Level,classes.ExtraBig].join(' ')}>Bardzo duże</div>};\r\n            break;\r\n        default:\r\n            risk = null;\r\n    };\r\n\r\n    return risk !== null ? risk : null;\r\n};\r\n\r\nexport default riskMatric;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Level\":\"riskMatric_Level__3Ko6k\",\"ExtraSmall\":\"riskMatric_ExtraSmall__2lR60\",\"Small\":\"riskMatric_Small__37_PX\",\"Medium\":\"riskMatric_Medium__1ZKl8\",\"Big\":\"riskMatric_Big__2PhIW\",\"ExtraBig\":\"riskMatric_ExtraBig__12mAH\"};","import React from 'react';\r\nimport classes from './infoBox.module.css';\r\nimport Auxiliary from '../../../hoc/Auxiliary';\r\nimport Backdrop from '../Backdrop/Backdrop';\r\n\r\nclass InfoBox extends React.Component {\r\n    \r\n    shouldComponentUpdate (nextProps, nextState) {\r\n        return this.props.show !== nextProps.show || this.props.children !== nextProps.children\r\n    }\r\n    render() {\r\n    return (\r\n        <Auxiliary>\r\n            <Backdrop show={this.props.show}/>\r\n            {this.props.show ? \r\n                <div className={classes.InfoBox}></div>:null}\r\n            <div className={classes.Box}\r\n                style={{\r\n                    opacity: this.props.show ? '1':'0',\r\n                    transform: this.props.show ? 'translateY(0)': 'translateY(-100vh)'\r\n            }}>\r\n                {this.props.children}\r\n            </div>\r\n        </Auxiliary>\r\n    )}\r\n}\r\n\r\nexport default InfoBox;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Box\":\"infoBox_Box__3yfZj\",\"InfoBox\":\"infoBox_InfoBox__2DzG1\"};","import React from 'react';\r\n\r\nimport classes from './spinner.module.css';\r\n\r\nconst spinner = () => (\r\n    <div className={classes.Loader}>Loading...</div>\r\n);\r\n\r\nexport default spinner;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"spinner_Loader__2MA0a\",\"load2\":\"spinner_load2__Ryu2j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RANav\":\"RiskAssessmentNav_RANav__3GxS1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"modal_Modal__3MJ9A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Output\":\"riskAssessmentOutput_Output__bcwuc\",\"Info\":\"riskAssessmentOutput_Info__2L5FI\",\"Table\":\"riskAssessmentOutput_Table__1_bpI\",\"ButtonBox\":\"riskAssessmentOutput_ButtonBox__2fp2k\",\"MssgBox\":\"riskAssessmentOutput_MssgBox__-M2AT\",\"ArchiveHistory\":\"riskAssessmentOutput_ArchiveHistory__gLsON\"};","import React from 'react';\r\nimport classes from './RiskAssessmentNav.module.css';\r\nimport Auxiliary from '../../../hoc/Auxiliary';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nconst riskAssessmentNav = props => {\r\n    return (\r\n        <Auxiliary>\r\n            <ul className={classes.RANav}>\r\n                <li onClick={props.history}><FontAwesomeIcon icon='folder-open' /><span>Historia zmian</span></li>\r\n                <li onClick={props.edit}><FontAwesomeIcon icon='edit' /><span>Edytuj</span></li>\r\n                <li onClick={props.archive}><FontAwesomeIcon icon='trash-alt' /><span>Archiwizuj</span></li>\r\n            </ul>\r\n        </Auxiliary>\r\n    )\r\n};\r\n\r\nexport default riskAssessmentNav;","import React from 'react';\r\nimport classes from './modal.module.css';\r\nimport Auxiliary from '../../../hoc/Auxiliary';\r\nimport Backdrop from '../Backdrop/Backdrop';\r\n\r\nclass Modal extends React.Component {\r\n\r\n    shouldComponentUpdate (nextProps, nextState) {\r\n        return this.props.show !== nextProps.show && this.props.children !== nextProps.children\r\n    }\r\n    \r\n    render () {\r\n        return (\r\n            <Auxiliary>\r\n                <Backdrop show={this.props.show}\r\n                            clicked={this.props.clicked}/>\r\n                <div className={classes.Modal}\r\n                    style={{\r\n                        opacity: this.props.show ? '1':'0',\r\n                        transform: this.props.show ? 'translateY(0)': 'translateY(-100vh)'\r\n                }}>\r\n                    {this.props.children}\r\n                </div>\r\n            </Auxiliary>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\n\r\nimport {connect} from 'react-redux';\r\nimport Auxiliary from '../../hoc/Auxiliary';\r\nimport RiskAssessmentNav from '../../components/RiskAssessmentOutput/RiskAssessmentNav/RiskAssessmentNav';\r\nimport RiskMatric from '../../components/RiskAssessment/HazardIdentyfication/RiskMatric/RiskMatric';\r\nimport InfoBox from '../../components/UI/InfoBox/InfoBox';\r\nimport Modal from '../../components/UI/Modal/Modal';\r\nimport Spinner from '../../components/UI/Spinner/Spinner';\r\nimport Button from '../../components/UI/Button/Button';\r\nimport classes from './riskAssessmentOutput.module.css';\r\nimport * as action from '../../store/actions/index';\r\n\r\nconst TABLE_HEADS = ['Zagrożenie','Źródło zagrożenia', 'Możliwe skutki zagrożenia', 'Środki ochrony przed zagrożeniem', 'Ryzyko'];\r\nconst ARCHIVE_TABLE_HEADS = ['Wersja', 'Data utworzenia', 'Opis zmian']\r\n\r\n\r\nclass RiskAssessmentOutput extends React.Component {\r\n\r\n    state = {\r\n        archiveInfo: false,\r\n        archiveHistory: false\r\n    }\r\n\r\n    componentDidMount () {\r\n        const query = this.props.match.params.id;\r\n        this.props.initRAForm('preview', query);\r\n        this.props.archiveOutput(query)\r\n    }\r\n\r\n    archiveToggle = () => {\r\n        const archiveInfo = !this.state.archiveInfo;\r\n        this.setState({archiveInfo: archiveInfo})\r\n    }\r\n\r\n    archiveHistoryToggle = () => {\r\n        const archiveHistory = !this.state.archiveHistory;\r\n        this.setState({archiveHistory: archiveHistory})\r\n    }\r\n\r\n    editBtn = (id) => {\r\n        this.props.RAtype('new_version');\r\n        this.props.history.push('/riskAssessmentForm/'+ id + '/' + (this.props.version + 1));\r\n    }\r\n\r\n    btnOK = () => {\r\n        if (this.props.raOutput.error) {\r\n            this.archiveToggle()\r\n        } else {\r\n            this.props.history.push('/userPanel')\r\n        }\r\n        this.props.raOutputClean();\r\n    }\r\n\r\n    render() {\r\n\r\n        const tableHeads = TABLE_HEADS.map( (head, index) => {return <th key={index}>{head}</th>})\r\n        const rows = [];\r\n        for (let hazard in this.props.hazardList) {\r\n            if (this.props.hazardList[hazard].save) {\r\n            rows.push([ this.props.hazardList[hazard].value,\r\n                        this.props.hazardList[hazard].source,\r\n                        this.props.hazardList[hazard].possibleEffects,\r\n                        this.props.hazardList[hazard].protection,\r\n                        <RiskMatric effect = {this.props.hazardList[hazard].effect} propability = {this.props.hazardList[hazard].propability} type='td' key={4}/>])\r\n            }\r\n        }\r\n        \r\n        const tableRows = rows.map( (row, index) => {\r\n            return <tr key={index} type = 'td'>\r\n                {row.map( (item, index) => {\r\n                    let cell;;\r\n                    if (index === 4) {\r\n                        cell = item\r\n                    } else {\r\n                        cell = <td key={index}>{item}</td>\r\n                    }\r\n                    return cell})}\r\n            </tr>\r\n        })\r\n\r\n        let infoBox = null;\r\n        if (this.props.raOutput.loading) {\r\n            infoBox =<Spinner />           \r\n        } else if (this.props.raOutput.message) {\r\n            infoBox =   <div className={classes.MssgBox}>\r\n                            <p>{this.props.raOutput.message}</p>\r\n                            <Button btnType='Submit' clicked={this.btnOK}>OK</Button>\r\n                        </div>\r\n        } else {\r\n            infoBox = ( <Auxiliary>\r\n                            <p>Czy na pewno chcesz przenieść tą ocenę ryzyka do archiwum?</p>\r\n                            <div className={classes.ButtonBox}>\r\n                                <Button btnType= 'Active' clicked={() => this.props.archiveRA(this.props.id)}>Przenieś do archiwum</Button>\r\n                                <Button btnType= 'Warning' clicked = {this.archiveToggle}>Anuluj</Button>\r\n                            </div>\r\n                        </Auxiliary>\r\n                        );\r\n        }\r\n\r\n        let archiveTableHeads = ARCHIVE_TABLE_HEADS.map( (head,index) => {\r\n            return <th key={index}>{head}</th>\r\n        })\r\n\r\n        const archiveTableData = Object.keys(this.props.archiveHistory.versionsList).map(version => {\r\n            return  <tr key={version}>\r\n                        <td>{version}</td>\r\n                        <td>{this.props.archiveHistory.versionsList[version].date}</td>\r\n                        <td>{this.props.archiveHistory.versionsList[version].notice}</td>\r\n                    </tr>\r\n        })\r\n        \r\n        return (\r\n            <div className={classes.Output}>\r\n                {this.props.isAuth ? (<Auxiliary>\r\n                                        <RiskAssessmentNav \r\n                                            history={this.archiveHistoryToggle}\r\n                                            edit={() => this.editBtn(this.props.id)}\r\n                                            archive={this.archiveToggle}/>\r\n                                        <InfoBox show={this.state.archiveInfo}>\r\n                                            {infoBox}\r\n                                        </InfoBox>\r\n                                        <Modal show={this.state.archiveHistory}\r\n                                            clicked={this.archiveHistoryToggle}>\r\n                                            <div className={classes.ArchiveHistory}>\r\n                                                <p onClick={this.archiveHistoryToggle}>Zamknij</p>\r\n                                                <h3>Historia zmian</h3>\r\n                                                <table className={classes.Table}>\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            {archiveTableHeads}\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        {archiveTableData}\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                        </Modal>\r\n                                    </Auxiliary>)\r\n                                    :null\r\n                }\r\n                {this.props.hazardList ? (  <Auxiliary>\r\n                                                <div className={classes.Info}>\r\n                                                    <h5>{'Numer: ' + this.props.number + ' wersja: ' + this.props.version} </h5>\r\n                                                    <h2>{this.props.data.position}</h2>\r\n                                                    <h4>Obszar pracy</h4>\r\n                                                    <p>{this.props.data.localization}</p>\r\n                                                    <h4>Charakterystyka pracy</h4>\r\n                                                    <p>{this.props.data.description}</p>   \r\n                                                </div> \r\n                                                <table className={classes.Table}>\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            {tableHeads}\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        {tableRows}\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </Auxiliary> )\r\n                                            : <Spinner />}    \r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        number: state.riskAssessment.number,\r\n        version: state.riskAssessment.version,\r\n        id: state.riskAssessment.id,\r\n        data: state.riskAssessment.assessmentData,\r\n        hazardList: state.riskAssessment.hazardList,\r\n        raOutput: state.riskAssessmentOutput,\r\n        archiveHistory: state.archiveHistory,\r\n        isAuth: state.firebase.auth.uid\r\n    }\r\n};\r\n\r\nconst mapPropsToDispatch = dispatch => {\r\n    return {\r\n        cleanState: () => dispatch(action.cleanState()),\r\n        archiveRA: id => dispatch(action.archiveRA(id)),\r\n        raOutputClean: () => dispatch(action.raOutputClean()),\r\n        archiveOutput: id => dispatch(action.archive(id)),\r\n        RAtype: type => dispatch(action.RAtype(type)),\r\n        initRAForm: (type, id) => dispatch(action.initRAForm(type,id))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapPropsToDispatch)(RiskAssessmentOutput);"],"sourceRoot":""}